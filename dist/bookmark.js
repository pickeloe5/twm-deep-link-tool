document.write(`<html> <head> <title>TWM Deep Link Tool</title> <style>@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap);body{margin:0;font-family:Montserrat,sans-serif;background-color:#607d8b}.container{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.card{background-color:#fff;border-radius:5pt;box-shadow:0 0 5pt #0003;padding:20pt;display:flex;flex-direction:column;align-items:center}.title{margin-top:0;margin-bottom:16pt}.subtitle{margin-top:16pt;margin-bottom:12pt}.input-row{display:flex;align-items:center;margin:8pt 0}.url-label{margin-right:8pt}.url-input{font-size:12pt;padding:4pt;flex-grow:1;min-width:40vw}.link-info{display:flex}.link-info .labels{display:flex;flex-direction:column;font-weight:700;margin-right:8pt}.link-info .values{display:flex;flex-direction:column;flex-grow:1}#link-info-container{align-self:stretch;display:flex;flex-direction:column;align-items:center}</style> </head> <body> <div class='container'> <div class='card'> <h2 class='title'>TWM Deep Link Tool</h2> <div class='input-row'> <label for='url' class='url-label'><b>URL: </b></label> <input name='url' type='text' class='url-input'/> </div><div id='link-info-container' style='display: none;'> <h3 class='subtitle'>Link Info</h3> <div class='link-info'> <div class='labels'> </div><div class='values'> </div></div></div></div></div></body></html>`);window._twmDltBookmark = true;(()=>{"use strict";const n=[{name:"CMS",pattern:/^\/cms\/(?<page>.+)/},{name:"Product Details",pattern:/\/p\/(?<productId>.+)$/},{name:"Category",pattern:/(\/(?<nameSlug>[^/]+))?\/c\/(?<categoryId>.+)$/},{name:"Event",pattern:/\/e\/(?<eventId>.+)$/,params:["storeNumber"]},{name:"Cart",pattern:/^\/cart/},{name:"Deals",pattern:/^\/deals/},{name:"Store Details",pattern:/^\/store-info/},{name:"&More Dashboard",pattern:/^\/and-more-rewards/},{name:"Coupons",pattern:/^\/coupon/},{name:"Buy Again",pattern:/^\/buyagain/},{name:"Store Locator",pattern:/^\/store-finder/}],e=n=>(e,t)=>({...e,[t]:n.get(t)}),t={input:null,linkInfoContainer:null,linkInfoLabels:null,linkInfoValues:null,linkInfoActive:!0},a=n=>{let e=n[0].toUpperCase();n=n.substring(1);for(const t of n)e+=t.toUpperCase()===t?" "+t:t;return e},o=n=>{const e=document.createElement("div");return e.classList.add("cell"),e.textContent=n,e},r=()=>{const{value:r}=t.input;let l;try{l=(t=>{if(!t.host.match(/totalwine\.com$/))return null;for(const a of n){const n=a.pattern.exec(t.pathname);if(n)return{definition:a,data:{...n.groups,...(a.params||[]).reduce(e(t.searchParams),{})}}}return null})(new URL(/^(www\.)?totalwine\.com/.test(i=r)?"https://"+i:i,"https://totalwine.com"))}catch(n){l=null}var i;if(null===l)return void(t.linkInfoActive&&(t.linkInfoContainer.style.display="none",t.linkInfoActive=!1));const{definition:s,data:u}=l;t.linkInfoLabels.innerHTML=t.linkInfoValues.innerHTML="";const c=Object.entries(u).filter((([n,e])=>!!e)).map((([n,e])=>[a(n),""+e]));[["Type",s.name],...c].forEach((([n,e])=>{t.linkInfoLabels.appendChild(o(n)),t.linkInfoValues.appendChild(o(e))})),t.linkInfoActive||(t.linkInfoContainer.style.display="flex",t.linkInfoActive=!0)},l=()=>{t.linkInfoContainer=document.getElementById("link-info-container"),t.linkInfoLabels=t.linkInfoContainer.querySelector(".link-info .labels"),t.linkInfoValues=t.linkInfoContainer.querySelector(".link-info .values"),t.input=document.querySelector('input[name="url"]'),t.input.addEventListener("keyup",r)};window._twmDltBookmark?l():addEventListener("DOMContentLoaded",l)})();
